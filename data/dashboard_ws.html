<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>FMS SDCMS DT V1 </title>
    <style>
        .center-align {
            text-align: center;
        }
        .files-section {
            max-width: 500px;
            margin: 0 auto;
            text-align: left;
        }
        .files-section h3 {
            text-align: center;
        }
        .files-section ul {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }
        .files-section li {
            margin-bottom: 10px;
        }
        .files-section li a {
            display: inline-block;
            background-color: #ff5f5f;
            color: white;
         padding: 10px 15px;
            text-decoration: none;
            border-radius: 4px;
        }
        .files-section li a:hover {
            background-color: #ff2e2e;
        }
        legend {
            color: white;
            padding: 5px;
            background: red;
            border-radius: 5px;
        }
        fieldset {
            max-width: 500px;
            border-radius: 10px;
            border-color: red;
            background: white;
        }
        label {
            color: black;
            float: left;
        }
        .label2 {
            color: black;
            font: serif;
        }
        input {
            border-color: red;
            max-width: 200px;
            border-radius: 3px;
            height: 40px;
            margin-top: 20px;
        }
        button {
            cursor: pointer;
            color: white;
            background: #ff5f5f;
            width: 100px;
            height: 40px;
            border-radius: 4px;
            border: none;
        }
        button:hover {
            background: #ff2e2e;
        }
        .text-center {
            text-align: center;
        }
        .footer {
            position: fixed;
            left: 0;
            bottom: 5px;
            width: 110vw;
            background-color: red;
            color: white;
            text-align: center;
        }
        .form-style-10 {
            max-width: 530px;
            padding: 30px;
            margin: 40px auto;
            background: rgb(255, 255, 255);
            border-radius: 10px;
            -webkit-border-radius: 10px;
            -moz-border-radius: 10px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.13);
            -moz-box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.13);
            -webkit-box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.13);
        }
        .form-style-10 .inner-wrap {
            padding: 30px;
            background: #F8F8F8;
            border-radius: 6px;
            margin-bottom: 15px;
        }
        .form-style-10 h1 {
            background: white;
            padding: 20px 30px 15px 30px;
            margin: -30px -30px 30px -30px;
            border-radius: 10px 10px 0 0;
            -webkit-border-radius: 10px 10px 0 0;
            -moz-border-radius: 10px 10px 0 0;
            color: black;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.12);
            font: normal 30px 'Bitter', serif;
            -moz-box-shadow: inset 0px 2px 2px 0px rgba(255, 255, 255, 0.17);
            -webkit-box-shadow: inset 0px 2px 2px 0px rgba(255, 255, 255, 0.17);
            box-shadow: inset 0px 2px 2px 0px rgba(255, 255, 255, 0.17);
            border: 1px solid white;
        }
        .form-style-10 h1>span {
            display: block;
            margin-top: 2px;
            font: 13px Arial, Helvetica, sans-serif;
        }
        a:link,
        a:visited {
            background-color: #ff5f5f;
            color: white;
            padding: 14px 25px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            border-radius: 4px;
            border: none;
        }
        a:hover,
        a:active {
            background-color: #ff2e2e;
        }
        .label2 {
            display: flex;
            justify-content: flex-start;
            align-items: center;
            padding-right: 50px; /* Memberikan padding kanan untuk elemen-elemen di sebelah kanan */
            margin-bottom: 1px; /* Menambahkan margin bawah antara blok-blok .label2 */
        }
        .label2 > div {
            flex: 1; /* Memiliki flex 1 untuk memenuhi ruang yang tersedia */
        }
        #container-en_view{
            display: flex;
            gap: 1em;
        }
        #ind{
            display: inline-block;
            position: absolute;
            right: 2em;
            top: 2em;
        }
        .forms{
            position: relative;
        }
        #ind>span{
            display: inline-block ;
            width: 1.5em;
            height: 1.5em;
            border-radius: 2em;
        }
        .redpoint{
            background: #D80032;
        }
        .greenpoint{
            background: #219C90;
        }
    </style>
    <script>
        function logoutButton() {
            alert("Anda Berhasil Keluar..!");
            var xhr = new XMLHttpRequest();
            xhr.open("GET", "/logout", true);
            xhr.send();
            setTimeout(function () {
                window.open("/logged-out", "_self");
            }, 200);
        }
        function submitRestart() {
            alert("Restarting...!");
            setTimeout(function () {
                window.open("/", "_self");
            }, 500);
        }
        function submitdefault() {
            alert("Reset Default...!");
            setTimeout(function () {
                window.open("/", "_self");
            }, 500);
        }
        function traccar_test() {
            alert("Push Traccar...!");
            xmlhttp = new XMLHttpRequest();
            xmlhttp.open("GET", "/push_traccar", false);
            xmlhttp.send();
            setTimeout(function () {
                window.open("/", "_self");
            }, 500);
        }
        function http_test() {
            alert("Push Http...!");
            xmlhttp = new XMLHttpRequest();
            xmlhttp.open("GET", "/push_http", false);
            xmlhttp.send();
            setTimeout(function () {
                window.open("/", "_self");
            }, 500);
        }
        function mqtt_test() {
            alert("Publish...!");
            xmlhttp = new XMLHttpRequest();
            xmlhttp.open("GET", "/publish", false);
            xmlhttp.send();
            setTimeout(function () {
                window.open("/", "_self");
            }, 500);
        }
        function listFilesButton() {
            xmlhttp = new XMLHttpRequest();
            xmlhttp.open("GET", "/listfiles", false);
            xmlhttp.send();
            document.getElementById("detailsheader").innerHTML = "<h3>Files<h3>";
            document.getElementById("details").innerHTML = xmlhttp.responseText;
        }
        function downloadDeleteButton(filename, action) {
            var urltocall = "/file?name=" + filename + "&action=" + action;
            if (action == "delete") {
                var confirmation = confirm("Apakah Anda yakin ingin menghapus file ini?");
                if (confirmation) {
                    var xhr = new XMLHttpRequest();
                    xhr.open("GET", urltocall, false);
                    xhr.send();
                    document.getElementById("status").innerHTML = xhr.responseText;
                    xmlhttp = new XMLHttpRequest();
                    xmlhttp.open("GET", "/listfiles", false);
                    xmlhttp.send();
                    document.getElementById("details").innerHTML = xmlhttp.responseText;
                }
            }
            if (action == "download") {
                document.getElementById("status").innerHTML = "";
                window.open(urltocall, "_blank");
            }
        }
        function showUploadButtonFancy() {
            document.getElementById("detailsheader").innerHTML = "<h3>Upload File<h3>";
            document.getElementById("status").innerHTML = "";
            var uploadform =
            "<form method = \"POST\" action = \"/\" enctype=\"multipart/form-data\"><input type=\"file\" name=\"data\"/><input type=\"submit\" name=\"upload\" value=\"Upload\" title = \"Upload File\"></form>";
            document.getElementById("details").innerHTML = uploadform;
            var uploadform =
            "<form id=\"upload_form\" enctype=\"multipart/form-data\" method=\"post\">" +
            "<input type=\"file\" name=\"file1\" id=\"file1\" onchange=\"uploadFile()\"><br>" +
            "<progress id=\"progressBar\" value=\"0\" max=\"100\" style=\"width:300px;\"></progress>" +
            "<h3 id=\"status\"></h3>" +
            "<p id=\"loaded_n_total\"></p>" +
            "</form>";
            document.getElementById("details").innerHTML = uploadform;
        }
        function _(el) {
            return document.getElementById(el);
        }
        function progressHandler(event) {
            _("loaded_n_total").innerHTML = "Uploaded " + event.loaded + " bytes";
            var percent = (event.loaded/ event.total) * 100;
            _("progressBar").value = Math.round(percent);
            _("status").innerHTML = Math.round(percent) + "% uploaded... please wait";
            if (percent >= 100) {
                _("status").innerHTML = "Please wait, writing file to filesystem";
            }
        }
        function completeHandler(event) {
            _("status").innerHTML = "Upload Complete";
            _("progressBar").value = 0;
            xmlhttp = new XMLHttpRequest();
            xmlhttp.open("GET", "/listfiles", false);
            xmlhttp.send();
            document.getElementById("status").innerHTML = "File Uploaded";
            document.getElementById("detailsheader").innerHTML = "<h3>Files<h3>";
            document.getElementById("details").innerHTML = xmlhttp.responseText;
        }
        function errorHandler(event) {
            _("status").innerHTML = "Upload Failed";
        }
        function abortHandler(event) {
            _("status").innerHTML = "Upload Aborted";
        }
        var view = function() {
            var en_fms = document.getElementById('en_fms');
            let data = localStorage.getItem('data')
            var containerfms = document.getElementById('container-en_fms');
            if (typeof en_fms !== 'undefined') {
                var valUe = en_fms.value;
                if (valUe === 'true') {
                    containerfms.style.display = 'block';
                } else {
                    containerfms.style.display = 'none';
                }
            }
            var en_overspeed = document.getElementById('en_overspeed');
            var containeroverspeed = document.getElementById('container-en_overspeed');
            if (typeof en_overspeed !== 'undefined') {
                var value = en_overspeed.value;
                if (value === 'true') {
                    containeroverspeed.style.display = 'block';
                } else {
                    containeroverspeed.style.display = 'none';
                }
            }
            var en_anglewarning = document.getElementById('en_anglewarning');
            var containeren_anglewarning = document.getElementById('container-en_anglewarning');
            if (typeof en_anglewarning !== 'undefined') {
                var value = en_anglewarning.value;
                if (value === 'true') {
                    containeren_anglewarning.style.display = 'block';
                } else {
                    containeren_anglewarning.style.display = 'none';
                }
            }
            var en_http = document.getElementById('en_http');
            var containerhttp = document.getElementById('container-en_http');
            if (typeof en_http !== 'undefined') {
                var value = en_http.value;
                if (value === 'true') {
                    containerhttp.style.display = 'block';
                } else {
                    containerhttp.style.display = 'none';
                }
            }
            var en_mqtt = document.getElementById('en_mqtt');
            var containermqtt = document.getElementById('container-en_mqtt');
            if (typeof en_mqtt !== 'undefined') {
                var value = en_mqtt.value;
                if (value === 'true') {
                    containermqtt.style.display = 'block';
                } else {
                    containermqtt.style.display = 'none';
                }
            }
            var en_traccar = document.getElementById('en_traccar');
            var containertraccar = document.getElementById('container-en_traccar');
            if (typeof en_traccar !== 'undefined') {
                var value = en_traccar.value;
                if (value === 'true') {
                    containertraccar.style.display = 'block';
                } else {
                    containertraccar.style.display = 'none';
                }
            }
            var en_lte = document.getElementById('en_lte');
            var containerlte = document.getElementById('container-en_lte');
            if (typeof en_lte !== 'undefined') {
                var value = en_lte.value;
                if (value === 'true') {
                    containerlte.style.display = 'block';
                } else {
                    containerlte.style.display = 'none';
                }
            }
            let element = document.querySelector('#en_fms').value
            document.querySelector('#fms-info').style.display = element == 'true' ? 'block' : 'none'
        }
        var gateway = `ws://${window.location.hostname}/ws`;
        var websocket;
        // Init web socket when the page loads
        window.addEventListener('load', onload);
        function initWebSocket() {
        console.log('Trying to open a WebSocket connection…');
        websocket = new WebSocket(gateway);
        websocket.onopen = onOpen;
        websocket.onclose = onClose;
        websocket.onmessage = onMessage;
        }
        // When websocket is established, call the getReadings() function
        function onOpen(event) {
        console.log('Connection opened');
        }
        function onClose(event) {
        console.log('Connection closed');
        setTimeout(initWebSocket, 2000);
        }
        // Function that receives the message from the ESP32 with the readings
        function onMessage(event) {
        var myObj = JSON.parse(event.data);
        localStorage.setItem('data', JSON.stringify(myObj))
        showDataOnElement(JSON.stringify(myObj))
        }
        function onload(event) {
        initWebSocket();
        initkalibrasi();
        view();
        }
        //function preview data to element
        function showDataOnElement(data){
        let myObj = JSON.parse(data)
        var keys = Object.keys(myObj);
        setTimeout(() => {
            for (var i = 0; i < keys.length; i++){
                var key = keys[i];
                console.log(key)
                document.getElementById(key).innerHTML = myObj[key];
                if(key == 'ind'){
                    if(myObj['ind'] ==' | '){
                        document.getElementById(key).innerHTML = '<span class="redpoint"></span>';
                    }
                    else {
                        document.getElementById(key).innerHTML = '<span class="greenpoint"></span>';
                    }
                }
            }
        },100)
        }
        function myFunction() {
        var x = document.getElementById("myTime").value;
        document.getElementById("set_time").innerHTML = x;
        }
        function initkalibrasi() {
        document.getElementById('kalibrasi').addEventListener('click', kalibrasi);
          }
          function kalibrasi(){
        alert("Kalibrasi...!");
        websocket.send('kalibrasi');
          }
        function config_device() {
        alert("Tersimpan...!");
        var formData = {
            cn: document.getElementById('cnx').value,
            sn: document.getElementById('snx').value,
            en_fatiq: document.getElementById('en_fatiq').value,
            en_anglewarning: document.getElementById('en_anglewarning').value,
            limit_angle: document.getElementById('limit_angle').value,        
            en_fms: document.getElementById('en_fms').value,
            brand: document.getElementById('brandx').value,
            set_bitrate: document.getElementById('set_bitrate').value,
            en_overspeed: document.getElementById('en_overspeed').value,
            overspeed: document.getElementById('overspeed').value
        };
        var jsonString = JSON.stringify(formData, null, 2);
        //document.getElementById('json_configdevice').innerText = jsonString;
        websocket.send(jsonString);
        }
          function rtc_calibration() {
        alert("Tersimpan...!");
        var formData = {
          date: document.getElementById('myDate').value,
          time: document.getElementById('myTime').value
        };
        var jsonString = JSON.stringify(formData, null, 2);
        //document.getElementById('json_rtccalibration').innerText = jsonString;
        websocket.send(jsonString);
          }
          function network_config() {
        alert("Tersimpan...!");
        var formData = {
            en_lte: document.getElementById('en_lte').value,
            no_simcard: document.getElementById('no_simcard').value,
            en_traccar: document.getElementById('en_traccar').value,
            server_traccar: document.getElementById('server_traccar').value,
            port_traccar: document.getElementById('port_traccar').value,
            interval_traccar: document.getElementById('interval_traccar').value,
            en_http: document.getElementById('en_http').value,
            server_http: document.getElementById('server_http').value,
            resource: document.getElementById('resource').value,
            interval_http: document.getElementById('interval_http').value,
            en_mqtt: document.getElementById('en_mqtt').value,
            broker: document.getElementById('broker').value,
            username: document.getElementById('username').value,
            pass: document.getElementById('pass').value,
            interval_mqtt: document.getElementById('interval_mqtt').value
        };
        var jsonString = JSON.stringify(formData, null, 2);
        //document.getElementById('json_networkconfig').innerText = jsonString;
        websocket.send(jsonString);
          }
          function ota_config() {
        alert("Tersimpan...!");
        var formData = {
          server_ota: document.getElementById('server_ota').value,
          resource_ota: document.getElementById('resource_ota').value
        };
        
        var jsonString = JSON.stringify(formData, null, 2);
        //document.getElementById('json_rtccalibration').innerText = jsonString;
        websocket.send(jsonString);
          }
    </script>
</head>

<body>
  <div class="form-style-10 forms">
      <h1>FMS SDCMS DT V1 &nbsp &nbsp <button onclick="logoutButton()">Logout</button> <span>Form Configuration device</span> <span>~version~</span> <span>~type_board~</span> <span>~sn_dev~</span> <span>Note: Jika menggunakan hp gunakan mode dekstop untuk tampilan maksimal</span></h1>
      <link rel="icon" href="data:,">
      <div align="left"> <a href="/restart" onclick="submitRestart()">Restart</a> &nbsp <a href="/">Refresh</a> &nbsp <a href="/default" onclick="submitdefault()">Reset Default</a> &nbsp </div> <br>
      <div id="container-en_view">
      <div>
        <div class="label2 "><strong>Realtime Detail Info: &nbsp; <span id="ind"></span></strong></div>
        <div class="label2 ">CN:&nbsp; <span id="cn"></span> &nbsp; </div>
        <div class="label2 ">Date/Time:&nbsp; <span id="datetime"></span> &nbsp; </div>
        <div class="label2 ">Latitude:&nbsp; <span id="lat"></span> &nbsp; </div>
        <div class="label2 ">Longitude:&nbsp; <span id="long"></span> &nbsp; </div>
        <div class="label2 ">Altitude:&nbsp; <span id="alt"></span> &nbsp;mdpl</div>
        <div class="label2 ">Speed:&nbsp; <span id="spd"></span> &nbsp;km/h </div>
        <div class="label2 ">Heading:&nbsp; <span id="heading"></span> &nbsp;&deg; </div>
        <div class="label2 ">Satellite:&nbsp; <span id="sat"></span> &nbsp; </div>
        <div class="label2 ">Angle:&nbsp; <span id="agl"></span> &nbsp;&deg;</div>
        <div class="label2 ">Fatigue:&nbsp; <span id="fatique"></span> &nbsp; </div>
        <div>Adc PTO/State PTO:&nbsp; <span id="state_pto"></span> &nbsp; </div>
        <div class="label2 ">State Network:&nbsp; <span id="state_network"></span> &nbsp; </div>
        <div class="label2 ">Signal Quality:&nbsp; <span id="csq"></span> &nbsp;</div>
        <div class="label2 ">Status Relay Dump:&nbsp; <span id="relay_dump"></span> &nbsp;</div>
        <div class="label2 ">Status Relay Buzzer:&nbsp; <span id="relay_buzzer"></span> &nbsp;</div>
        <div class="label2 ">Status SD Card:&nbsp; <span id="sd_card"></span> &nbsp;</div>
        <div class="label2 ">Dump Status:&nbsp; <span id="dump_status"></span> &nbsp;</div>
    </div>
    <div id="fms-info">
        <div class="label2 "><strong>FMS Info: &nbsp; </strong></div>
        <div>Brand:&nbsp; <span id="brand"></span> &nbsp; </div>
        <div>Engine Torque:&nbsp; <span id="engTorque"></span> &nbsp;&percnt;</div>
        <div>Engine Speed:&nbsp; <span id="engSpeed"></span> &nbsp;RPM</div>
        <div>Tachogr. Vehicle Speed:&nbsp; <span id="tacVehSpeed"></span> &nbsp;km/h</div>
        <div>Accelerator Pedal:&nbsp; <span id="accPed"></span> &nbsp;</div>
        <div>Engine Load:&nbsp; <span id="engLoad"></span> &nbsp;&percnt;</div>
        <div>Actual Retarder:&nbsp; <span id="actRet"></span> &nbsp;&percnt;</div>
        <div>Brake Pedal:&nbsp; <span id="brakePedPos"></span> &nbsp; </div>
        <div>Air Pressure 1:&nbsp; <span id="airPress1"></span> &nbsp;Bar</div>
        <div>Air Pressure 2:&nbsp; <span id="airPress2"></span> &nbsp;Bar</div>
        <div>Air Pressure 3:&nbsp; <span id="airPress3"></span> &nbsp;Bar</div>
        <div>Fuel Rate:&nbsp; <span id="fuelRate"></span> &nbsp;L/h</div>
        <div>Engine Revolution:&nbsp; <span id="engEr"></span> &nbsp; </div>
        <div>Hours Meter:&nbsp; <span id="engHm"></span> &nbsp;H</div>
        <div>Coolant Temperature: &nbsp;<span id="engClnTemp"></span> &nbsp; &deg;C</div>
        <div>Fuel Level:&nbsp; <span id="fuelLvl"></span> &percnt;&nbsp; </div>
        <div>Vehicle Speed:&nbsp; <span id="vehSpeed"></span> km/h&nbsp; </div>
    </div>
    </div><br>
    <fieldset>
      <legend>Sensor Angle</legend> <label>Calibration Sensor Angle:</label>
      <link rel="icon" href="data:,"> <br>
      <p><button id="kalibrasi" class="button">Zero Point</button></p>
  </fieldset> <br>
  <fieldset>
      <legend>Config Device</legend>
      <p> <label>Code Number:</label>
      <div class="label2">&nbsp;</div> <input type="text" id="cnx" name="cn" value="~cn~" /> </p>
      <p> <label>Serial Number:</label>
      <div class="label2">&nbsp;</div> <input type="text" id="snx" name="sn" value="~sn~" /> </p>
      <p><label>Brand Unit:</label></p>
          <div class="label2">
            &nbsp; &nbsp;
          </div>
          <div class="label2">
            &nbsp; &nbsp;
          </div><select id="brandx" class="label2" name="brand">
            <option value="mercy" ~selected_mercy~ class="option-style">
              Mercy
            </option>
            <option value="scania" ~selected_scania~ class="option-style">
              Scania
            </option>
            <option value="volvo" ~selected_volvo~ class="option-style">
              Volvo
            </option>
          </select>
          <p> <label>Fatigue Alarm:</label>
            <div class="label2">&nbsp;</div>
            <div class="label2">&nbsp;</div> <select id="en_fatiq" class="label2" name="en_fatiq">
                <option value="false" ~selected_disableAlarm~ class="option-style">Disable</option>
                <option value="true" ~selected_enableAlarm~ class="option-style">Enable</option>
            </select> </p>
            <p> <label>Angle Dump Warning:</label>
            <div class="label2">&nbsp; &nbsp;</div>
            <div class="label2">&nbsp; &nbsp;</div> <select id="en_anglewarning" class="label2" name="en_anglewarning" onchange="view()">
                <option value="false" ~selected_disableanglewarning~ class="option-style">Disable</option>
                <option value="true" ~selected_enableanglewarning~ class="option-style">Enable</option>
            </select>
            <div id="container-en_anglewarning" style="display: none;">
                <p> <label>Limit Angle:</label>
                <div class="label2">&nbsp; &nbsp;</div> <input type="text" id="limit_angle" name="limit_angle" value="~limit_angle~" /> </p>
            </div>
            </p> <br>
            <fieldset>
        <legend>FMS Config</legend>
        <p><label>FMS:</label></p>
        <div class="label2">
          &nbsp; &nbsp;
        </div>
        <div class="label2">
          &nbsp; &nbsp;
        </div><select id="en_fms" class="label2" name="en_fms" onchange="view()">
          <option value="false" ~selected_disableFMS~ class="option-style">
            Disable
          </option>
          <option value="true" ~selected_enableFMS~ class="option-style">
            Enable
          </option>
        </select>
        <div id="container-en_fms" style="display: none;">
          <p> <label>Set Bit Rate:</label>
            <div class="label2">&nbsp;</div>
            <div class="label2">&nbsp;</div> <select id="set_bitrate" class="label2" name="set_bitrate">
                <option value="125" ~125kbps~ class="option-style">125KBPS</option>
                <option value="250" ~250kbps~ class="option-style">250KBPS</option>
            </select> </p>
            <p> <label>Overspeed Alarm:</label>
            <div class="label2">&nbsp; &nbsp;</div>
            <div class="label2">&nbsp; &nbsp;</div> <select id="en_overspeed" class="label2" name="en_overspeed" onchange="view()">
                <option value="false" ~selected_disableOvs~ class="option-style">Disable</option>
                <option value="true" ~selected_enableOvs~ class="option-style">Enable</option>
            </select>
            <div id="container-en_overspeed" style="display: none;">
                <p> <label>Limit Speed (km/h):</label>
                <div class="label2">&nbsp; &nbsp;</div> <input type="text" id="overspeed" name="overspeed" value="~overspeed~" /> </p>
            </div>
            </p>
        </div>
      </fieldset><br>
      <button type="button" onclick="config_device()">Simpan</button>
    </fieldset><!-- <pre id="json_configdevice"></pre> -->
    <br>
    <fieldset>
      <legend>RTC Calibration</legend>
      <p><br>
      <label>Date</label> <input class="label2" type="date" name="set_date" id="myDate" value="~set_date~" step="any"><br>
      <label>Time</label> <input class="label2" type="time" name="set_time" id="myTime" value="~set_time~" step="any"></p><br>
      <button type="button" onclick="rtc_calibration()">Simpan</button>
    </fieldset><!-- <pre id="json_rtccalibration"></pre> -->
    <br>
    <fieldset>
      <p> <label>Data Selular:</label>
        <div class="label2">&nbsp; &nbsp;</div>
        <div class="label2">&nbsp; &nbsp;</div> <select id="en_lte" class="label2" name="en_lte" onchange="view()">
            <option value="false" ~selected_disablelte~ class="option-style">Disable</option>
            <option value="true" ~selected_enablelte~ class="option-style">Enable</option>
        </select>
        <div id="container-en_lte" style="display: none;"> 
            <p> <label>Nomor Simcard:</label>
                <div class="label2">&nbsp; &nbsp;</div> <input type="text" id="no_simcard" name="no_simcard" value="~no_simcard~" /> </p>
            <p> <label>Traccar:</label>
            <div class="label2">&nbsp; &nbsp;</div>
            <div class="label2">&nbsp; &nbsp;</div> <select id="en_traccar" class="label2" name="en_traccar" onchange="view()">
                <option value="false" ~selected_disabletraccar~ class="option-style">Disable</option>
                <option value="true" ~selected_enabletraccar~ class="option-style">Enable</option>
            </select>
            <div id="container-en_traccar" style="display: none;">
                <p> <label>Server:</label>
                <div class="label2">&nbsp; &nbsp;</div> <input type="text" id="server_traccar" name="server_traccar" value="~server_traccar~" /> </p>
                <p> <label>Port:</label>
                <div class="label2">&nbsp; &nbsp;</div> <input type="text" id="port_traccar" name="port_traccar" value="~port_traccar~" /> </p>
                <p> <label>Interval Push:</label>
                <div class="label2">&nbsp; &nbsp;</div> <input type="text" id="interval_traccar" name="interval_traccar" value="~interval_traccar~" /> </p>
            </p> <button href="/kalibrasi" onclick="traccar_test()">Traccar Test</button> &nbsp; Push Test
        </div>
        </p> <br>
        <p> <label>HTTP POST:</label>
        <div class="label2">&nbsp; &nbsp;</div>
        <div class="label2">&nbsp; &nbsp;</div> <select id="en_http" class="label2" name="en_http" onchange="view()">
            <option value="false" ~selected_disablehttp~ class="option-style">Disable</option>
            <option value="true" ~selected_enablehttp~ class="option-style">Enable</option>
        </select>
        <div id="container-en_http" style="display: none;"> <br>
            <p> <label>Server:</label>
            <div class="label2">&nbsp; &nbsp;</div> <input type="text" id="server_http" name="server_http" value="~server_http~" /> </p>
            <p> <label>Resource:</label>
            <div class="label2">&nbsp; &nbsp;</div> <input type="text" id="resource" name="resource" value="~resource~" /> </p>
            <p> <label>Interval Push:</label>
            <div class="label2">&nbsp; &nbsp;</div> <input type="text" id="interval_http" name="interval_http" value="~interval_http~" /> </p> <button href="/kalibrasi" onclick="http_test()">Post Test</button> &nbsp; Push Test
        </div>
        </p> <br>
        <p> <label>MQTT:</label>
        <div class="label2">&nbsp; &nbsp;</div>
        <div class="label2">&nbsp; &nbsp;</div> <select id="en_mqtt" class="label2" name="en_mqtt" onchange="view()">
            <option value="false" ~selected_disablemqtt~ class="option-style">Disable</option>
            <option value="true" ~selected_enablemqtt~ class="option-style">Enable</option>
        </select>
        <div id="container-en_mqtt" style="display: none;">
            <p> <label>Status Mqtt: </label>
            <div class="label2"> &nbsp; &nbsp; ~mqtt_state~ &nbsp; </div>
            </p>
            <p> <label>Broker:</label>
            <div class="label2">&nbsp; &nbsp;</div> <input type="text" id="broker" name="broker" value="~broker~" /> </p>
            <p> <label>Username:</label>
            <div class="label2">&nbsp; &nbsp;</div> <input type="text" id="username" name="username" value="~user~" /> </p>
            <p> <label>Password:</label>
            <div class="label2">&nbsp; &nbsp;</div> <input type="text" id="pass" name="pass" value="~pass~" /> </p>
            <p> <label>Interval Publish:</label>
            <div class="label2">&nbsp; &nbsp;</div> <input type="text" id="interval_mqtt" name="interval_mqtt" value="~interval_mqtt~" /> </p> <button href="/kalibrasi" onclick="mqtt_test()">MQTT Test</button> &nbsp; Publish Test
        </div>
    </div>
        </p> <br> <button type="button" onclick="network_config()">Simpan</button>
    </fieldset> <br>
    <fieldset>
      <legend>OTA Config</legend>
      <p><label>Server OTA:</label></p>
      <div class="label2">
        &nbsp; &nbsp;
      </div><input type="text" id="server_ota" name="server_ota" value="~server_ota~">
      <p><label>Resource OTA:</label></p>
      <div class="label2">
        &nbsp; &nbsp;
      </div><input type="text" id="resource_ota" name="resource_ota" value="~resource_ota~"><br><br>
      <button type="button" onclick="ota_config()">Simpan</button>
    </fieldset><!-- <pre id="json_networkconfig"></pre> -->
  </div><br>
  <center>
    <p><b>Firmware:</b> ~version~</p>
    <p><b>Free Storage:</b> <span id="freespiffs">~freespace~</span> | <b>Used Storage:</b> <span id="usedspiffs">~usedstorage~</span> | <b>Total Storage:</b> <span id="totalspiffs">~totalStorage~</span></p>
    <div class="center-align">
      <button type="submit" onclick="listFilesButton()">Files Downloads</button>
    </div>
    <div class="center-align files-section" id="detailsheader"></div>
    <div class="center-align files-section" id="details"></div>
    <div class="center-align files-section" id="status"></div>
  </center><br>
  <br>
  <br>
  <br>
  <footer>
    <div class="footer">
      <marquee onmouseout='this.start()' onmouseover='this.stop()' scrollamount='4'>Copyright © SS6 - COE | PT PUTRA PERKASA ABADI | PT ANTAREJA MAHADA MAKMUR | FMS SDCMS DT V1</marquee>
    </div>
  </footer>
</body>
</html>